#!/bin/bash
# backup.sh - Improved with error handling and logging

BACKUP_DIR="/backup"
SOURCE_DIR="/home/user"
DATE=$(date +%Y-%m-%d-%H-%M)
LOG_FILE="/var/log/backup.log"

mkdir -p $BACKUP_DIR

tar -czf $BACKUP_DIR/backup-$DATE.tar.gz $SOURCE_DIR 2>> $LOG_FILE

if [ $? -eq 0 ]; then
  echo "Backup completed successfully on $DATE"
else
  echo "Backup failed on $DATE. Check logs for details."
fi
